# Claude Code マルチエージェント開発フロー

個人開発で、一定の品質を保ちながら爆速開発するためのフレームワーク。

## 何が変わるか

**before**: エラー出る → スクショ撮る → AIに貼る → 説明する → 直してもらう → 次のエラー…

**after**: 実装指示だけ出して離席。戻ったら検証まで終わってる。

## 思想

- テストコードは原則書かない。代わりにAIエージェントが検証を回す
- 仕様は固めない。CORE.md（変わらない本質）だけ決めて、あとは育てる
- 人間は「決める」。AIは「作る・調べる・報告する」

## 仕様の3層構造

```
CORE.md（Why）→ SPEC.md（How）→ ARCHITECTURE.md（What）
  変わらない本質    体験の方針        技術構成
```

最初から完璧を目指さない。動くものから逆算する。

## エージェント構成

**設計（人間との対話）**

| コマンド | 役割 |
|---------|------|
| `/draft-core` | プロダクトの本質を整理 |
| `/draft-spec` | 体験の方針を整理 |
| `/draft-arch` | 技術構成を設計 |
| `/plan-assist` | 実装計画を対話で整理 |

**実装**

| コマンド | 役割 |
|---------|------|
| `.tpi` | 並列実装（サブエージェント or Agent Teams を自動選択） |

**検証（テストコードの代替）**

| コマンド | 役割 |
|---------|------|
| `.cc` | 静的検証（リント・型チェック・ビルド確認） |
| `.vc` | ブラウザで動作確認（Playwright） |
| `.spc` | 仕様との整合性チェック |

**監査**

| コマンド | 役割 |
|---------|------|
| `.cod` | コード全体監査 |
| `.sec` | セキュリティ監査 |
| `.arc` | アーキテクチャ設計監査 |
| `.cod-dx` / `.sec-dx` | Codex CLIでダブルチェック |

**その他**

| コマンド | 役割 |
|---------|------|
| `/deploy` | add → commit → push |
| `/guide` | 今やるべきことを案内 |
| `/research-team` | 3視点調査（実装モード付き） |

## 開発フロー

```
/draft-core → /draft-spec → /draft-arch → /plan-assist
    ↓
  .tpi（並列実装）→ .cc（静的検証）→ .vc（動作確認）→ /deploy
    ↓
  .cod / .sec（監査） → 改善 → 繰り返し
```

迷ったら `/guide` と打てば、プロジェクトの状態を見て次にやることを教えてくれる。

## 必要なもの

- Claude Code（Agent Teams 有効化推奨）
- Playwright（`.vc` で使用）
- Codex CLI（`.cod-dx` / `.sec-dx` を使う場合のみ）

## セットアップ

```
~/.claude/
├── agents/    # エージェント定義ファイルを配置
├── skills/    # スキル定義ファイルを配置
├── CLAUDE.md  # 共通設定（ショートカットコマンド等）
└── settings.json
```

## ライセンス

MIT
