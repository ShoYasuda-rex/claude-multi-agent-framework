---

name: guide

description: 今やりたいことを聞いて、プロジェクトの状態を自動判定し、次にやるべきことを案内する

model: haiku

tools: Read, Glob, AskUserQuestion

user\_invocable: true

---



\# /guide — やりたいこと案内



ユーザーが「次に何をすればいいか」を即座に案内するスキル。

プロジェクトの状態を自動判定し、ユースケースに応じた推奨フローを提示する。



---



\## 手順



\### 1. やりたいことを聞く



AskUserQuestion で聞く:



> 何をしたいですか？



選択肢:

\- 新規プロジェクトを始める

\- 機能を追加・変更する

\- バグを直す

\- 品質を上げたい

\- デプロイしたい

\- その他（自由入力）



\### 2. プロジェクトの状態を自動判定



以下を Glob/Read で確認する:



\- `docs/CORE.md` の有無

\- `docs/SPEC.md` の有無

\- `docs/ARCHITECTURE.md` の有無

\- `src/` or `app/` 等のコードディレクトリの有無

\- `CLAUDE.md`（プロジェクト）の有無

\- `.claude/plans/` の有無

\- `tests/guard/` の有無



\### 3. 推奨フローを提示



ユースケースとプロジェクト状態を組み合わせて、下記リファレンスから該当するフローを提示する。



提示フォーマット:

```

今の状態: CORE.md ✓ / SPEC.md ✓ / ARCHITECTURE.md ✗ / コード ✗



やること:

1\. /draft-arch — 技術構成を決める

2\. /plan-assist — 実装計画を立てる

3\. .tpi — 実装

4\. .cc — 検証



まず /draft-arch から始めよう。

```



既に完了しているステップはスキップする。例えば CORE.md が既にあれば `/draft-core` は案内しない。



\### 4. 終了



フローを提示したら終了。実行はしない。



---



\## 禁止事項



\- スキルやエージェントを実行しない（案内だけ）

\- 長い説明をしない（フローの提示のみ）

\- ドキュメントの中身を読んで要約しない（有無の確認だけ）



---



\## リファレンス



\### コマンド一覧



\*\*設計（上流 — 人間との対話）\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|

| `/draft-core` | プロダクトの本質を整理 → docs/CORE.md | なし |

| `/draft-spec` | 体験の方針を整理 → docs/SPEC.md | CORE.md |

| `/draft-arch` | 技術構成を設計 → docs/ARCHITECTURE.md | SPEC.md |

| `/draft-arch ファイルパス` | 外部ドキュメントからARCHITECTURE.mdを生成 | なし |

| `/plan-assist` | 実装計画を対話で整理 | できればCORE/SPEC/ARCH |

| `/gen-arch` | 既存コードからアーキテクチャドキュメントを自動生成 | コードが存在 |



\*\*実装\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|


| `.tpi` | 並列実装 | 実装計画がある |



\*\*検証\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|

| `.cc` | 静的検証（リント・型・ビルド） | コードが存在 |

| `.vc` | ブラウザで動作確認 | ローカルサーバーが起動可能 |

| `.test` | テスト実行・結果分析 | テストファイルが存在 |



\*\*監査\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|

| `.spc` | 仕様との整合性チェック | CORE/SPEC/ARCHのいずれか |

| `.cod` | コード全体監査 | コードが存在 |

| `.cod-dx` | コード全体監査（Codex版） | コードが存在 |

| `.sec` | セキュリティ監査 | コードが存在 |

| `.sec-dx` | セキュリティ監査（Codex版） | コードが存在 |

| `.arc` | アーキテクチャ設計監査 | コードが存在 |




\*\*テスト\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|

| `/test-assist` | 日本語からE2Eテスト自動生成 | ローカルサーバーが起動可能 |



\*\*記録\*\*



| コマンド | 何をする |

|---------|---------|

| `/save-issue` | 課題・改善点を即記録 |

| `/load-issues` | ためたissueを調査・実装 |

| `/save-plan` | 計画を保存 |

| `/load-plans` | 保存した計画を読み込み・実行 |

| `/save-memo` | メモを即記録 |

| `/load-memos` | メモを一括エクスポート |



\*\*Git\*\*



| コマンド | 何をする |

|---------|---------|

| `/deploy` | クイックプッシュ（add→commit→push） |

| `/deploy safe` | 安全チェック付きプッシュ |

| `/backup` | コミットのみ（pushしない） |

| `/rollback` | 過去のコミットから復元 |



\*\*その他\*\*



| コマンド | 何をする | 前提 |

|---------|---------|------|

| `/local` | ローカルサーバー起動・ブラウザで開く | 開発サーバーが設定済み |

| `/full-auto-team` | AIチームが自律的に改善を永続実行 | モックアップが動いている |

| `/research-team` | 3視点で並列調査・統合報告 | なし |



\### ユースケース → 推奨フロー



\*\*新規プロジェクトを始める\*\*

1\. `/draft-core` — プロダクトの本質を整理

2\. `/draft-spec` — 体験の方針を決める

3\. `/draft-arch` — 技術構成を決める

4\. `/plan-assist` — 最初の実装計画を立てる

5\. `.tpi` — 実装

6\. `.cc` — 検証



\*\*要件定義書からプロジェクトを始める\*\*

1\. `/draft-core 要件定義書.md` — ドキュメントからCore抽出

2\. `/draft-spec` — 体験の方針を決める

3\. `/draft-arch 要件定義書.md` — ドキュメントからARCH生成

4\. `/plan-assist` — 実装計画

5\. `.tpi` — 実装



\*\*既存プロジェクトに機能追加\*\*

1\. `/plan-assist` — 何を実装するか整理

2\. `.tpi` — 実装

4\. `.cc` — 検証

5\. `.vc` — ブラウザで動作確認



\*\*バグを直す\*\*

1\. `.cc` or `.vc` — 問題の特定

2\. 修正を実装

3\. `.cc` — 再検証



\*\*品質を上げたい\*\*

\- コード品質: `.cod`

\- セキュリティ: `.sec`

\- 仕様との整合: `.spc`

\- 設計の妥当性: `.arc`

\- 別モデルでダブルチェック: `.cod-dx` / `.sec-dx`



\*\*自動で改善を回したい\*\*

\- `/full-auto-team` — モックアップが動いている前提



\*\*デプロイ\*\*

\- 普段: `/deploy`

\- 本番・慎重に: `/deploy safe`



\*\*途中経過を残したい\*\*

\- 計画を保存: `/save-plan` → 別セッションで `/load-plans`

\- メモ: `/save-memo` → `/load-memos`

\- 課題: `/save-issue` → `/load-issues`

